#include "main.h"

/**
* env_count - gets the number of key value pais in the current env
*
* @envs: the env gotten from extern evnrion in main.h
* Return: the number of pairs
*/

int env_count(char **envs)
{
	int i = 0;

	while (envs[i])
		i++;

	return (i);
}

/**
 * new_env_array - create a new array of pointers for the env
 *
 * @count: the number of key, value pair in the array
 *
 * Return: The new array
 */

char **new_env_array(void)
{
	char **env;
	int j = 0, i = 0, lgth;

	lgth = env_count(environ);

	env = (char **)malloc((lgth + 1) * sizeof(char *));

	if (!env)
	{
		perror("malloc");
		return (NULL);
	}
	while (environ[i])
	{
		env[i] = strdup(environ[i]);
		if (!env[i])
		{
			perror("strdup");
			while (j < i)
			{
				free(env[j]);
				j++;
			}
			free(env);
		}
		i++;
	}
	env[i] = NULL;

	return (env);
}
